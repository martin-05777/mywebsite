<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>Welcome</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="background">
        <h1 class="TG" id="main-header">Welcome</h1>

        <div class="container" id="auth-box">
            <input type="checkbox" id="toggle">
            
            <div class="form login">
                <div class="profile-icon">üë§</div>
                <h2 class="form-title">Login</h2>
                <input type="text" id="loginUser" placeholder="Username">
                <div class="input-group">
                    <input type="password" id="loginPass" placeholder="Password">
                    <span class="eye">üëÅÔ∏è</span>
                </div>
                <button onclick="handleLogin()">Login</button>
                <label for="toggle" class="switch-link">No account? Register</label>
            </div>

            <div class="form register">
                <div class="profile-icon">üë§</div>
                <h2 class="form-title">Register</h2>
                <input type="text" id="regUser" placeholder="Username">
                <div class="input-group">
                    <input type="password" id="regPass" placeholder="Password">
                    <span class="eye">üëÅÔ∏è</span>
                </div>
                <input type="password" placeholder="Confirm Password">
                <button onclick="handleRegister()">Create Account</button>
                <label for="toggle" class="switch-link">Already have an account? Login</label>
            </div>
        </div>

        <div id="dashboard" class="hidden">
            <div class="navbar">
                <div class="profile-circle" onclick="toggleMenu()">üë§</div>
                <div id="menu" class="dropdown">
                    <button onclick="alert('Account Settings')">Account</button>
                    <button onclick="location.reload()">Logout</button>
                </div>
            </div>
            <div class="dash-text">
                <h1>Hello, <span id="user-display"></span>!</h1>
            </div>
        </div>
    </div>

    <script>
        function handleRegister() {
            const u = document.getElementById('regUser').value;
            const p = document.getElementById('regPass').value;
            if(u && p) {
                localStorage.setItem('u', u);
                localStorage.setItem('p', p);
                alert("Account Created!");
                document.getElementById('toggle').checked = false;
            }
        }

        function handleLogin() {
            const u = document.getElementById('loginUser').value;
            const p = document.getElementById('loginPass').value;
            if(u === localStorage.getItem('u') && p === localStorage.getItem('p')) {
                document.getElementById('auth-box').style.display = 'none';
                document.getElementById('main-header').style.display = 'none';
                document.getElementById('dashboard').classList.remove('hidden');
                document.getElementById('user-display').innerText = u;
            } else {
                alert("Login Failed");
            }
        }

        function toggleMenu() {
            let m = document.getElementById('menu');
            m.style.display = (m.style.display === 'block') ? 'none' : 'block';
        }
    </script>
</body>
</html>

